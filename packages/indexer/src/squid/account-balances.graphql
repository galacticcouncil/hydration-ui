query AccountTotalBalancesByPeriod(
  $accountId: String!
  $startTimestamp: String
  $endTimestamp: String
  $bucketSize: TimeSeriesBucketTimeRange
) {
  accountTotalBalancesByPeriod(
    filter: {
      accountId: $accountId
      startTimestamp: $startTimestamp
      endTimestamp: $endTimestamp
      bucketSize: $bucketSize
    }
  ) {
    nodes {
      referenceAssetId
      buckets {
        transferableNorm
        lockedNorm
        timestamp
      }
    }
  }
}

query LatestAccountsBalances($accountId: String) {
  accountTotalBalanceHistoricalData(
    filter: { accountId: { equalTo: $accountId } }
    orderBy: PARA_BLOCK_HEIGHT_DESC
    first: 1
  ) {
    nodes {
      totalTransferableNorm
      totalLockedNorm
    }
  }
}
